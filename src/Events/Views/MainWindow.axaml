<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:Events.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:Class="Events.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Icon="/Assets/avalonia-logo.ico"
        WindowStartupLocation="CenterScreen"
        Title="Events">

    <DockPanel>
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="File">
                <MenuItem Header="New" />
                <MenuItem Header="Open" Command="{Binding OpenFileCommand}"/>
            </MenuItem>
        </Menu>
        
        <TabControl Margin="1">
            <TabItem Header="Main">
                <ScrollViewer VerticalScrollBarVisibility="Auto">

                    <SplitView
                        IsPaneOpen="True"
                        DisplayMode="Inline"
                        OpenPaneLength="200">

                        <SplitView.Pane>
                            <StackPanel DockPanel.Dock="Left" Width="170">
                                <TextBlock>Search</TextBlock>
                                <TextBox></TextBox>
                                <Button Content="Search by filters" 
                                        HorizontalAlignment="Stretch" 
                                        HorizontalContentAlignment="Center"
                                        Command="{Binding OpenSearchWindowCommand}"></Button>
                            <Button DockPanel.Dock="Top" 
                                    Content="Create event" 
                                    HorizontalAlignment="Stretch" 
                                    HorizontalContentAlignment="Center"
                                    Command="{Binding OpenCreateEventWindowCommand}" />
                            <Button DockPanel.Dock="Bottom"
                                    Content="Update event"
                                    HorizontalAlignment="Stretch"
                                    HorizontalContentAlignment="Center"
                                    Command="{Binding OpenEditEventWindowCommand}" />
                            </StackPanel>
                        </SplitView.Pane>

                        <DockPanel>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" DockPanel.Dock="Top">
                                <ComboBox x:Name="filterComboBox" 
                                    HorizontalAlignment="Stretch"
                                          ItemsSource="{Binding FilterOptions}"
                                          SelectedItem="{Binding SelectedFilter}">
                                </ComboBox>
                                <TextBlock>From: </TextBlock>
                                <DatePicker x:Name="FromDatePicker" SelectedDate="{Binding DateToFilterFrom, Mode=TwoWay} " 
                                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch"></DatePicker>
                                <TextBlock>To: </TextBlock>
                                <DatePicker x:Name="ToDatePicker" SelectedDate="{Binding DateToFilterTo, Mode=TwoWay}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"></DatePicker>
                                    <Button Content="Show events"
                                            HorizontalAlignment="Stretch"
                                            HorizontalContentAlignment="Center"
                                            VerticalAlignment="Stretch"
                                            Command="{Binding FilterEventsByDateCommand}" />
                            </StackPanel>

                            <DataGrid Margin="20"
                                      ItemsSource="{Binding AllFilteredEvents}"
                                      GridLinesVisibility="All"
                                      BorderThickness="1"
                                      BorderBrush="Black"
                                      SelectedItem="{Binding SelectedEvent}">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="Name" Binding="{Binding Name}" />
                                    <DataGridTextColumn Header="Date" Binding="{Binding DateTime}" />
                                    <DataGridTextColumn Header="Duration" Binding="{Binding Duration}" />
                                    <DataGridTextColumn Header="Location" Binding="{Binding Location}" />
                                    <DataGridTextColumn Header="Description" Binding="{Binding Description}" />
                                    <DataGridTextColumn Header="Category" Binding="{Binding Category}" />
                                </DataGrid.Columns>
                            </DataGrid>
                      
                        </DockPanel>

                    </SplitView>
                </ScrollViewer>
            </TabItem>

            <TabItem Header="Stats">
                <TextBlock>tab2</TextBlock>
            </TabItem>
            
        </TabControl>

    </DockPanel>
</Window>
